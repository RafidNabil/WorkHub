@model (WorkHub.Models.UserProfile, List<WorkHub.Models.Tasks>)
@{
    ViewBag.Title = "User Profile";
    Layout = "~/Views/Admin/AdminIndex.cshtml";
}

<div class="container-xxl flex-grow-1 container-p-y" bis_skin_checked="1">


    <!-- Header -->
    <div class="row">
        <div class="col-12">
            <div class="card mb-5">
                <div class="user-profile-header-banner">
                    <img src="https://static.vecteezy.com/system/resources/previews/033/108/404/non_2x/cloud-cosmic-banner-background-free-photo.jpg" alt="Banner image" class="rounded-top w-100">
                </div>
                <div class="user-profile-header d-flex flex-column flex-lg-row text-sm-start text-center mb-3 px-4">
                    <div class="flex-shrink-0 mt-2 mx-auto mx-lg-0">
                        <img src="@Model.Item1.ProfilePicture" alt="user image" class="d-block h-auto rounded-3 user-profile-img" style="width: 150px;">
                    </div>
                    <div class="flex-grow-1 mt-4 mt-lg-5 px-lg-5">
                        <div class="d-flex align-items-center justify-content-between flex-wrap gap-4">
                            <div class="user-profile-info">
                                <h4 class="mb-2 mt-lg-4">@Model.Item1.Username</h4>
                                <ul class="list-inline mb-0 d-flex align-items-center flex-wrap gap-3 mt-2">
                                    <li class="list-inline-item">
                                        <i class="bx bx-palette me-2 align-top"></i><span class="fw-medium">@Model.Item1.Designation</span>
                                    </li>
                                    <li class="list-inline-item">
                                        <i class="bx bx-map me-2 align-top"></i><span class="fw-medium">@Model.Item1.City</span>
                                    </li>
                                    <li class="list-inline-item">
                                        <i class="bx bx-calendar me-2 align-top"></i>
                                        <span class="fw-medium">@Model.Item1.CreatedAt.ToString("MMMM dd, yyyy")</span>
                                    </li>
                                </ul>
                            </div>
                            <a href="@Url.Action("AdminUpdateProfile", "Admin", new {UserId = Model.Item1.Id})" class="btn btn-primary">
                                <i class="bx bx-edit bx-sm me-2"></i>Updae Profile
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/ Header -->
    <!-- User Profile Content -->
    <div class="row" bis_skin_checked="1">
        <div class="col-xl-4 col-lg-5 col-md-5" bis_skin_checked="1">
            <!-- About User -->
            <div class="card mb-3">
                <div class="card-body">
                    <small class="text-uppercase text-muted">About</small>
                    <ul class="list-unstyled my-3 py-1">
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-user"></i><span class="fw-medium mx-2">Full Name:</span> <span>@Model.Item1.Username</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-check"></i><span class="fw-medium mx-2">Status:</span> <span>@Model.Item1.Status</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-crown"></i><span class="fw-medium mx-2">Role:</span> <span>@Model.Item1.Role</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-flag"></i><span class="fw-medium mx-2">Country:</span> <span>@Model.Item1.Country</span>
                        </li>
                        <li class="d-flex align-items-center">
                            <i class="bx bx-detail"></i><span class="fw-medium mx-2">Languages:</span> <span>
                                @foreach (var lang in Model.Item1.Languages)
                                {<span>@lang</span>}
                            </span>
                        </li>
                    </ul>
                    <small class="text-uppercase text-muted">Phone</small>
                    <ul class="list-unstyled my-3 py-1">
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-phone"></i><span class="fw-medium mx-2">Contact:</span> <span>@Model.Item1.Phone</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-envelope"></i><span class="fw-medium mx-2">Email:</span> <a href="@Model.Item1.Email"> Email</a>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bxl-linkedin"></i><span class="fw-medium mx-2">LinkedIn:</span> <a href="@Model.Item1.LinkedIn"> LinkedIn</a>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bxl-facebook"></i><span class="fw-medium mx-2">Facebook:</span> <a href="@Model.Item1.Facebook"> Facebook</a>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bxl-twitter"></i><span class="fw-medium mx-2">Twitter:</span> <a href="@Model.Item1.Twitter"> Twitter</a>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bxl-github"></i><span class="fw-medium mx-2">GitHub:</span> <a href="@Model.Item1.GitHub"> GitHub</a>
                        </li>
                    </ul>
                    @*<small class="text-uppercase text-muted">Teams</small>*@
                    @*<ul class="list-unstyled mt-3">
                            <li class="d-flex flex-wrap mb-3">
                                <span class="fw-medium me-2">Backend Developer</span><span>(126 Members)</span>
                            </li>
                            <li class="d-flex flex-wrap">
                                <span class="fw-medium me-2">React Developer</span><span>(98 Members)</span>
                            </li>
                        </ul>*@
                </div>
            </div>
            <!--/ About User -->
            <!-- Profile Overview -->
            <div class="card mb-5">
                <div class="card-body">
                    <small class="text-uppercase text-muted">Overview</small>
                    <ul class="list-unstyled mt-3">
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-check"></i><span class="fw-medium mx-2">Task Compiled:</span> <span>13.5k</span>
                        </li>
                        <li class="d-flex align-items-center mb-3">
                            <i class="bx bx-star"></i><span class="fw-medium mx-2">Projects Compiled:</span> <span>146</span>
                        </li>
                        <li class="d-flex align-items-center">
                            <i class="bx bx-user"></i><span class="fw-medium mx-2">Connections:</span> <span>897</span>
                        </li>
                    </ul>
                </div>
            </div>
            <!--/ Profile Overview -->
        </div>
        <div class="col-xl-8 col-lg-7 col-md-7" bis_skin_checked="1">

            <!-- Projects table -->
            <div class="card mb-3">
                <div style="display:flex; flex-direction:row; justify-content:space-between; align-items:center">
                    <h3 class="card-header text-primary">Task List</h3>
                </div>
                <div class="table-responsive text-nowrap">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Task</th>
                                <th>Deu Date</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody class="table-border-bottom-0">
                            @for (var i = 0; i < Model.Item2.Count(); i++)
                            {
                                var task = Model.Item2.ElementAt(i);
                                <tr>
                                    <td><i class="fab fa-angular fa-lg me-3"></i> <strong>@task.TaskTitle</strong></td>
                                    <td> @task.DueDate.ToString("yyyy-MM-dd")</td>
                                    @if (task.Status == "Done")
                                    {
                                        <td><span class="badge bg-label-success me-1">@task.Status</span></td>
                                    }
                                    else if (task.Status == "In Progress")
                                    {
                                        <td><span class="badge bg-label-warning me-1">@task.Status</span></td>
                                    }
                                    else if (task.Status == "To Do")
                                    {
                                        <td><span class="badge bg-label-danger me-1">@task.Status</span></td>
                                    }
                                    else if (task.Status == "Pending Approval")
                                    {
                                        <td><span class="badge bg-label-info me-1">@task.Status</span></td>
                                    }

                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!--/ Projects table -->

            <div class="row" bis_skin_checked="1">
                <!-- Connections -->
                <div class="col-lg-12 col-xl-6" bis_skin_checked="1">
                    <div class="card card-action mb-6" bis_skin_checked="1">
                        <div class="card-header align-items-center" bis_skin_checked="1">
                            <h5 class="card-action-title mb-0">Connections</h5>
                            <div class="card-action-element" bis_skin_checked="1">
                                <div class="dropdown" bis_skin_checked="1">
                                    <button type="button" class="btn btn-icon btn-text-secondary rounded-pill dropdown-toggle hide-arrow p-0 text-muted" data-bs-toggle="dropdown" aria-expanded="false"><i class="bx bx-dots-vertical-rounded bx-md text-muted"></i></button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="javascript:void(0);">Share connections</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Suggest edits</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Report bug</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="card-body" bis_skin_checked="1">
                            <ul class="list-unstyled mb-0">
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/avatars/2.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Cecilia Payne</h6>
                                                <small>45 Connections</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <button class="btn btn-label-primary btn-icon"><i class="bx bx-user-check bx-md"></i></button>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/avatars/3.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Curtis Fletcher</h6>
                                                <small>1.32k Connections</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <button class="btn btn-primary btn-icon"><i class="bx bx-user-x bx-md"></i></button>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/avatars/10.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Alice Stone</h6>
                                                <small>125 Connections</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <button class="btn btn-primary btn-icon"><i class="bx bx-user-x bx-md"></i></button>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/avatars/7.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Darrell Barnes</h6>
                                                <small>456 Connections</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <button class="btn btn-label-primary btn-icon"><i class="bx bx-user-check bx-md"></i></button>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-6">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/avatars/12.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Eugenia Moore</h6>
                                                <small>1.2k Connections</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <button class="btn btn-label-primary btn-icon"><i class="bx bx-user-check bx-md"></i></button>
                                        </div>
                                    </div>
                                </li>
                                <li class="text-center">
                                    <a href="javascript:;">View all connections</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--/ Connections -->
                <!-- Teams -->
                <div class="col-lg-12 col-xl-6" bis_skin_checked="1">
                    <div class="card card-action mb-6" bis_skin_checked="1">
                        <div class="card-header align-items-center" bis_skin_checked="1">
                            <h5 class="card-action-title mb-0">Teams</h5>
                            <div class="card-action-element" bis_skin_checked="1">
                                <div class="dropdown" bis_skin_checked="1">
                                    <button type="button" class="btn btn-icon btn-text-secondary dropdown-toggle hide-arrow p-0" data-bs-toggle="dropdown" aria-expanded="false"><i class="bx bx-dots-vertical-rounded bx-md text-muted"></i></button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="javascript:void(0);">Share teams</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Suggest edits</a></li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Report bug</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="card-body" bis_skin_checked="1">
                            <ul class="list-unstyled mb-0">
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/icons/brands/react-label.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">React Developers</h6>
                                                <small>72 Members</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <a href="javascript:;"><span class="badge bg-label-danger">Developer</span></a>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/icons/brands/support-label.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Support Team</h6>
                                                <small>122 Members</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <a href="javascript:;"><span class="badge bg-label-primary">Support</span></a>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/icons/brands/figma-label.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">UI Designers</h6>
                                                <small>7 Members</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <a href="javascript:;"><span class="badge bg-label-info">Designer</span></a>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-4">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/icons/brands/vue-label.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-2" bis_skin_checked="1">
                                                <h6 class="mb-0">Vue.js Developers</h6>
                                                <small>289 Members</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <a href="javascript:;"><span class="badge bg-label-danger">Developer</span></a>
                                        </div>
                                    </div>
                                </li>
                                <li class="mb-6">
                                    <div class="d-flex align-items-center" bis_skin_checked="1">
                                        <div class="d-flex align-items-center" bis_skin_checked="1">
                                            <div class="avatar me-2" bis_skin_checked="1">
                                                <img src="../../assets/img/icons/brands/twitter-label.png" alt="Avatar" class="rounded-circle">
                                            </div>
                                            <div class="me-w" bis_skin_checked="1">
                                                <h6 class="mb-0">Digital Marketing</h6>
                                                <small>24 Members</small>
                                            </div>
                                        </div>
                                        <div class="ms-auto" bis_skin_checked="1">
                                            <a href="javascript:;"><span class="badge bg-label-secondary">Marketing</span></a>
                                        </div>
                                    </div>
                                </li>
                                <li class="text-center">
                                    <a href="javascript:;">View all teams</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--/ Teams -->
            </div>
        </div>
    </div>
    <!--/ User Profile Content -->

</div>

<style>
    .user-profile-header {
        margin-top: -2.5%;
        z-index: 1;
    }

    .user-profile-header-banner {
        z-index: 0;
    }

    .flex-shrink-0{
        background: white;
        border-radius: 5px;
        padding: 5px;
    }
</style>